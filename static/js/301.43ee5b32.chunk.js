"use strict";(self.webpackChunkforest_images=self.webpackChunkforest_images||[]).push([[301],{6301:function(n,e,r){r.r(e),r.d(e,{default:function(){return R}});var t,i,l,s,a,d,o,h,c,u=r(2791),g=r(9023),p=r(1413),x=r(168),f=r(4382),j=r(32),b=r(5439),Z=r(4372),m=r(43),w=r(3189),v=r(2360),P=r(184),S=b.Z.Dragger,F=v.ZP.div(t||(t=(0,x.Z)(["\n  width: 100%;\n  padding: 0 20px 20px 20px;\n  border: 1px dashed #42b983;\n  margin-top: 30px;\n  border-radius: 10px;\n"]))),k=v.ZP.a(i||(i=(0,x.Z)(["\n  word-wrap: break-word;\n  word-break: normal;\n  max-width: 100%;\n  font-size: 12px;\n\n  &:hover {\n    color: #5edaa1;\n  }\n"]))),U=v.ZP.img(l||(l=(0,x.Z)(["\n  max-width: 50%;\n"]))),$=v.ZP.h2(s||(s=(0,x.Z)(["\n  margin: 20px 0;\n  text-align: center;\n  color: #42b983;\n  font-weight: 800;\n  width: 107.5%;\n\n"]))),z=v.ZP.input(a||(a=(0,x.Z)(["\n  border: none;\n  font-size: 12px;\n  padding: 5px;\n  width: 120px;\n  height: 30px;\n  border-radius: 10px;\n  margin-right: 10px;\n  margin-top: 7px;\n\n  &:focus {\n    outline: 1px solid #42b983;\n  }\n"]))),C=v.ZP.dt(d||(d=(0,x.Z)(["\n  margin-top: 15px;\n  font-weight: 600;\n  color: #42b983;\n\n"]))),_=v.ZP.dd(o||(o=(0,x.Z)(["\n  padding-top: 3px;\n  color: #42b983;\n"]))),y=(0,v.ZP)(w.Z)(h||(h=(0,x.Z)(["\n  svg {\n    fill: #42b983;\n  }\n"]))),N=(0,g.Pi)((function(){var n=(0,f.m)(),e=n.ImageStore,r=n.UserStore,t=(0,u.useRef)(),i=(0,u.useRef)(),l=(0,j.fv)((function(){return{width:null,setWidth:function(n){l.width=n},get widthStr(){return l.width?"/w/".concat(l.width):""},height:null,setHeight:function(n){l.height=n},get heightStr(){return l.height?"/h/".concat(l.height):""},get fullStr(){return e.serverFile.attributes.url.attributes.url+"?imageView2/0"+l.widthStr+l.heightStr}}})),s={showUploadList:!1,beforeUpload:function(n){return e.setFile(n),e.setFilename(n.name),null===r.currentUser?(Z.ZP.warning("\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20\u56fe\u7247\uff01"),!1):/(svg$)|(png$)|(jpg$)|(jpeg$)|(gif$)/gi.test(n.type)?n.size>1048576?(Z.ZP.error("\u4e0a\u4f20\u6587\u4ef6\u6700\u59271M"),!1):(e.upload().then((function(n){console.log("\u4e0a\u4f20\u6210\u529f")})).catch((function(n){console.log("\u4e0a\u4f20\u5931\u8d25"),console.log(n)})),!1):(Z.ZP.error("\u4e0a\u4f20\u6587\u4ef6\u7c7b\u578b\u9519\u8bef"),!1)}};return(0,P.jsxs)("div",{children:[(0,P.jsx)(m.Z,{tip:"\u56fe\u7247\u4e0a\u4f20\u4e2d\u2026\u2026",spinning:e.isUploading,children:(0,P.jsxs)(S,(0,p.Z)((0,p.Z)({},s),{},{children:[(0,P.jsx)("p",{className:"ant-upload-drag-icon",children:(0,P.jsx)(y,{})}),(0,P.jsx)("p",{className:"ant-upload-text",style:{color:"#42b983"},children:"\u70b9\u51fb\u6216\u62d6\u62fd\u4e0a\u4f20\u56fe\u7247"}),(0,P.jsx)("p",{className:"ant-upload-hint",style:{fontSize:"12px",padding:"10px"},children:"\u4ec5\u652f\u6301.svg/.png/.jpg/.jpeg/.gif\u683c\u5f0f\u7684\u56fe\u7247\uff0c\u56fe\u7247\u6700\u5927\u4e0d\u80fd\u8d85\u8fc71M"})]}))}),(0,P.jsx)("div",{children:e.serverFile?(0,P.jsxs)(F,{children:[(0,P.jsx)($,{children:"\u4e0a\u4f20\u7ed3\u679c"}),(0,P.jsxs)("dl",{children:[(0,P.jsx)(C,{children:"\u7ebf\u4e0a\u5730\u5740:"}),(0,P.jsx)(_,{children:(0,P.jsx)(k,{href:e.serverFile.attributes.url.attributes.url,target:"_blank",children:e.serverFile.attributes.url.attributes.url})}),(0,P.jsx)(C,{children:"\u6587\u4ef6\u540d:"}),(0,P.jsx)(_,{children:e.serverFile.attributes.filename}),(0,P.jsx)(C,{children:"\u56fe\u7247\u9884\u89c8:"}),(0,P.jsx)(_,{children:(0,P.jsx)(U,{src:e.serverFile.attributes.url.attributes.url})}),(0,P.jsx)(C,{children:"\u5c3a\u5bf8\u5b9a\u5236:"}),(0,P.jsxs)(_,{children:[(0,P.jsx)(z,{ref:t,onChange:function(){l.setWidth(t.current.value)},placeholder:"\u6700\u5927\u5bbd\u5ea6(\u53ef\u9009)"}),(0,P.jsx)(z,{ref:i,onChange:function(){l.setHeight(i.current.value)},placeholder:"\u6700\u5927\u9ad8\u5ea6(\u53ef\u9009)"})]}),(0,P.jsx)(_,{children:(0,P.jsx)(k,{href:l.fullStr,target:"_blank",children:l.fullStr})})]})]}):null})]})})),H=v.ZP.div(c||(c=(0,x.Z)(["\n  color: white;\n  margin: 25px auto;\n  padding: 15px;\n  text-align: center;\n  background-color: #42b983;\n"]))),M=(0,g.Pi)((function(n){var e=n.children,r=(0,f.m)().UserStore;return(0,P.jsx)(P.Fragment,{children:r.currentUser?null:(0,P.jsx)(H,{children:e})})})),R=(0,g.Pi)((function(){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(M,{children:"\u63d0\u793a:\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20\u56fe\u7247"}),(0,P.jsx)(N,{})]})}))}}]);
//# sourceMappingURL=301.43ee5b32.chunk.js.map