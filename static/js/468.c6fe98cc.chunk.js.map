{"version":3,"file":"static/js/468.c6fe98cc.chunk.js","mappings":"sRAOMA,EAAUC,EAAAA,GAAAA,IAAU,uHAMpBC,EAAiBD,EAAAA,GAAAA,IAAU,yDAI3BE,EAAkBF,EAAAA,GAAAA,IAAU,yDAI5BG,EAAiBH,EAAAA,GAAAA,IAAU,yDAI3BI,EAAgBJ,EAAAA,GAAAA,IAAU,uCAG1BK,EAAeL,EAAAA,GAAAA,OAAa,oKAS5BM,EAAUN,EAAAA,GAAAA,IAAU,4CAGpBO,EAAKP,EAAAA,GAAAA,GAAS,oIAOdQ,EAASR,EAAAA,GAAAA,EAAQ,6KAuEvB,GA3DkBS,EAAAA,EAAAA,KAAS,WAEzB,IAAOC,GAAgBC,EAAAA,EAAAA,KAAhBD,aAgBP,OANAE,EAAAA,EAAAA,YAAU,WACR,OAAO,WACLF,EAAaG,OACf,CACF,GAAG,KAGD,SAACd,EAAO,WACN,SAAC,IAAc,CACbe,aAAa,EACbC,UAAW,EACXC,SAnBW,WACfN,EAAaO,MACf,EAkBMC,SAAUR,EAAaS,WAAaT,EAAaQ,QACjDE,WAAW,EAAK,UAEhB,SAAC,KAAI,CACHC,WAAYX,EAAaY,KACzBC,WACE,SAAAC,GAAI,OAAI,UAAC,UAAS,YAChB,SAACvB,EAAc,WACb,SAACK,EAAO,CAACmB,IAAKD,EAAKE,WAAWC,IAAID,WAAWC,SAE/C,SAACzB,EAAe,WACd,SAACK,EAAE,UAAEiB,EAAKE,WAAWE,cAEvB,SAACzB,EAAc,WACb,SAACK,EAAM,CAACqB,KAAML,EAAKE,WAAWC,IAAID,WAAWC,IAAKG,OAAO,SAAQ,SAC9DN,EAAKE,WAAWC,IAAID,WAAWC,SAGpC,SAACvB,EAAa,WACZ,SAACC,EAAY,CAAC0B,QAAS,kBAnCfC,EAmCkCR,EAAKS,QAlC3DvB,EAAawB,OAAOF,GADD,IAACA,CAmC0C,EAAC,SAAC,qBAbhCR,EAAKS,GAejB,EACb,SAEAvB,EAAaS,WAAaT,EAAaQ,UACtC,0BACE,SAAC,IAAI,CAACiB,IAAI,0CAOxB,IC/GMC,EAAKpC,EAAAA,GAAAA,GAAS,uFAgBpB,MATA,WACE,OACE,iCACE,SAACoC,EAAE,UAAC,8BACJ,SAACC,EAAW,MAGlB,C","sources":["components/HistoryList.js","pages/History.js"],"sourcesContent":["import React, {useEffect} from 'react';\nimport {observer} from 'mobx-react';\nimport {useStores} from '../stores';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport {List, Spin} from 'antd';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  width: 100%;\n  border: 1px dashed #42b983;;\n  border-radius: 10px;\n  text-align: center;\n`;\nconst WrapperItemImg = styled.div`\n  width: 20%;\n  padding: 10px;\n`;\nconst WrapperItemName = styled.div`\n  width: 20%;\n  padding: 10px;\n`;\nconst WrapperItemUrl = styled.div`\n  width: 50%;\n  padding: 10px;\n`;\nconst WrapperDelete = styled.div`\n  width: 10%;\n`;\nconst DeleteButton = styled.button`\n  background-color: #42b983;\n  font-size: 12px;\n  width: 70%;\n  height: 40px;\n  border-radius: 15px;\n  color: white;\n  border: none;\n`;\nconst ImgShow = styled.img`\n  max-width: 100%;\n`;\nconst H5 = styled.h5`\n  font-size: 12px;\n  max-width: 100%;\n  word-wrap: break-word;\n  word-break: normal;\n  color: #42b983;\n`;\nconst ImgUrl = styled.a`\n  max-width: 100%;\n  font-size: 12px;\n  word-wrap: break-word;\n  word-break: normal;\n  color: #42b983;\n\n  &:hover {\n    color: #5edaa1;\n  }\n`;\n\nconst Component = observer(() => {\n\n  const {HistoryStore} = useStores();\n\n  const loadMore = () => {\n    HistoryStore.find();\n  };\n\n  const handleDelete = (oid) => {\n    HistoryStore.delete(oid);\n  };\n\n  useEffect(() => {\n    return () => {\n      HistoryStore.reset();\n    };\n  }, []);\n\n  return (\n    <Wrapper>\n      <InfiniteScroll\n        initialLoad={true}\n        pageStart={0}\n        loadMore={loadMore}\n        hasMore={!HistoryStore.isLoading && HistoryStore.hasMore}\n        useWindow={true}\n      >\n        <List\n          dataSource={HistoryStore.list}\n          renderItem={\n            item => <List.Item key={item.id}>\n              <WrapperItemImg>\n                <ImgShow src={item.attributes.url.attributes.url}/>\n              </WrapperItemImg>\n              <WrapperItemName>\n                <H5>{item.attributes.filename}</H5>\n              </WrapperItemName>\n              <WrapperItemUrl>\n                <ImgUrl href={item.attributes.url.attributes.url} target=\"_blank\">\n                  {item.attributes.url.attributes.url}\n                </ImgUrl>\n              </WrapperItemUrl>\n              <WrapperDelete>\n                <DeleteButton onClick={() => handleDelete(item.id)}>删除</DeleteButton>\n              </WrapperDelete>\n            </List.Item>\n          }\n        >\n          {HistoryStore.isLoading && HistoryStore.hasMore && (\n            <div>\n              <Spin tip=\"加载中……\"/>\n            </div>\n          )}\n        </List>\n      </InfiniteScroll>\n    </Wrapper>\n  );\n});\n\nexport default Component;","import React from 'react';\nimport HistoryList from '../components/HistoryList';\nimport styled from 'styled-components';\n\n\nconst H2 = styled.h2`\n  margin-bottom:20px;\n  color: #42b983;\n  font-weight: 800;\n`\n\n\nfunction History() {\n  return (\n    <>\n      <H2>上传记录</H2>\n      <HistoryList/>\n    </>\n  );\n}\n\nexport default History;"],"names":["Wrapper","styled","WrapperItemImg","WrapperItemName","WrapperItemUrl","WrapperDelete","DeleteButton","ImgShow","H5","ImgUrl","observer","HistoryStore","useStores","useEffect","reset","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","src","attributes","url","filename","href","target","onClick","oid","id","delete","tip","H2","HistoryList"],"sourceRoot":""}